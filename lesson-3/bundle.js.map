{"version":3,"sources":["webpack:///webpack/bootstrap 34ebd685479c12231a79","webpack:///./scripts/main.ts","webpack:///./scripts/fetch.ts"],"names":["FlickrApp","FlickrApp.constructor","FlickrApp.render","FlickrApp.search","FlickrApp.getPhotos"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 34ebd685479c12231a79\n **/","/**\n * Created by igor on 3/31/16.\n */\nimport {FlickrApp} from './fetch';\n\nlet elem = document.querySelector('.flikr-box') as HTMLDivElement;\n\nlet flickr = new FlickrApp({\n    elem: elem,\n    uri: 'https://api.flickr.com/services/rest/?',\n    queryMethod: 'flickr.photos.search',\n    apiKey: '7fbc4d0fd04492d32fa9a2f718c6293e'\n})\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/main.ts\n **/","/** uri: 'https://api.flickr.com/services/rest/?',\n queryMethod: 'flickr.photos.search',\n apiKey: '7fbc4d0fd04492d32fa9a2f718c6293e'\n */\n\n/// <reference path=\"fetch.d.ts\" />\n/// <reference path=\"../typings/tsd.d.ts\" />\n\ntype opt={\n    elem:HTMLElement;\n    uri:string;\n    queryMethod:string;\n    apiKey:string\n}\n\n\n// import * as _ from 'lodash';\n\nimport _ = require('lodash');\n\nexport class FlickrApp {\n    protected elem:HTMLElement;\n    protected input:HTMLInputElement;\n    protected searchButton:HTMLButtonElement;\n    protected imageBox:HTMLDivElement;\n    protected uri:string;\n    protected queryMethod:string;\n    protected apiKey:string;\n    protected photos:any;\n\n\n    constructor(opt:opt) {\n        let {elem, uri, queryMethod, apiKey}=opt;\n        this.elem = elem;\n        this.uri = uri;\n        this.queryMethod = queryMethod;\n        this.apiKey = apiKey;\n        this.input = this.elem.querySelector('.flickr-search-input') as HTMLInputElement\n        this.imageBox = this.elem.querySelector('.image-area') as HTMLDivElement;\n        this.searchButton = this.elem.querySelector('.flickr-search-button') as HTMLButtonElement;\n        this.searchButton.addEventListener('click', this.search.bind(this, this.render.bind(this)))\n    }\n\n    protected render(body:any):void {\n        this.photos = body.photos.photo;\n        let content = '';\n        for (let photo of this.photos) {\n            content += `<div  class='image-box'>\n            <img src='https://farm${photo.farm}.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}.jpg' />\n            <p>${photo.title}</p>\n            </div>`;\n        }\n        this.imageBox.innerHTML = content;\n    }\n\n    protected search(cb:(body:any)=>any):void {\n        if (!this.input.value) {\n            return;\n        }\n        let text = this.input.value;\n        let url = new Request(`${this.uri}method=${this.queryMethod}&\n        api_key=${this.apiKey}&text=${text}&page=1&format=json&nojsoncallback=1`);\n        this.getPhotos(url, cb)\n    }\n\n    protected getPhotos(input:string|Request, cb:(body:any)=>any):void {\n        fetch(input)\n            .then((response:Response):PromiseLike<any> => {\n                return response.json();\n            }).then(cb)\n    }\n}\n\n\n/** WEBPACK FOOTER **\n ** ./scripts/fetch.ts\n **/"],"sourceRoot":""}